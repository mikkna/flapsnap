(this["webpackJsonpto-drag-list"]=this["webpackJsonpto-drag-list"]||[]).push([[0],{14:function(e,t,n){e.exports=n(26)},19:function(e,t,n){},20:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=(n(19),n(4)),l=n(3),s=n(2),u=n(1),m=n.n(u),f=(n(20),n(6));function p(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|localhost|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}function d(e){return e?{left:e.x,top:e.y}:{}}var g=function(e){var t=e.title,n=e.onClick,o=Object(f.a)(e,["title","onClick"]),i=Object(a.useState)(!1),c=Object(s.a)(i,2),l=c[0],u=c[1];function d(){if(p(t)){var e=t.replace(/(https?:\/\/)?(www\.)?/,"");return e.length>43?e.slice(0,40)+"...":e}return t}return r.a.createElement("li",Object.assign({},o,{onClick:function(){u(!0),setTimeout((function(){n()}),200)},className:m()("item ",{"item--collapse":l})}),r.a.createElement("span",{className:"item-content"},p(t)?r.a.createElement("a",{href:t,rel:"noreferrer noopener",target:"_blank",onClick:function(e){e.stopPropagation()}},d()):d()))};g.defaultProps={onClick:function(){}};var b=g,O=n(5),v=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.title,a=void 0===n?"":n,r=t.position,o=void 0===r?null:r,i=t.timeStamp,c=void 0===i?Date.now():i,l=t.items;Object(O.a)(this,e),this.title=a,this.position=o,this.timeStamp=c,this.items=l},y=function(e){var t=e.isGrouped,n=void 0!==t&&t,o=e.position,i=e.onCreate,c=e.onClose,l=Object(a.useState)(""),u=Object(s.a)(l,2),f=u[0],p=u[1];return r.a.createElement("form",{className:m()("new-item item",{"item--absolute":o}),style:d(o),onSubmit:n?function(e){if(e.preventDefault(),f.length){var t=new v({position:o,title:f});i(t),p("")}}:function(){var e=new v({position:o,title:f,items:[]});i(e)}},r.a.createElement("input",{type:"text",className:"item-content",autoFocus:!0,value:f,onChange:function(e){var t=e.target.value;p(t)},onKeyDown:function(e){switch(e.keyCode){case 27:return c();case 8:if(f.length)return;return c();default:return}}}))};var h=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.x,a=void 0===n?0:n,r=t.y,o=void 0===r?0:r;Object(O.a)(this,e),this.x=a,this.y=o},j=n(9),E=n.n(j),S=n(10),w=n(12),P=n(11),C=n(13);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var k=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(w.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(o)))).ref=Object(a.createRef)(),n.state={dragPosition:null},n.dragStartOffset=null,n.isValidDragTarget=function(e){return!!!e.closest(".undraggable")},n.handleItemDragStart=function(e){if(n.isValidDragTarget(e.target)){var t=e.pageX,a=e.pageY,r=function(e){var t=e.getBoundingClientRect();return{x:t.left+window.scrollX,y:t.top+window.scrollY}}(e.currentTarget);n.dragStartOffset={x:t-r.x,y:a-r.y},document.addEventListener("mousemove",n.handleItemDrag)}},n.handleItemDrag=function(e){var t=new h({x:e.pageX-n.dragStartOffset.x,y:e.pageY-n.dragStartOffset.y});n.setState({dragPosition:t})},n.handleItemDragEnd=function(){document.removeEventListener("mousemove",n.handleItemDrag),n.state.dragPosition&&(n.props.onDragEnd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state.dragPosition)),n.setState({dragPosition:null}))},n}return Object(C.a)(t,e),Object(S.a)(t,[{key:"getStyle",value:function(e){return{left:e.x,top:e.y}}},{key:"render",value:function(){return r.a.createElement("div",{className:"draggable item--absolute",ref:this.ref,onMouseDown:this.handleItemDragStart,onMouseUp:this.handleItemDragEnd,style:this.getStyle(this.state.dragPosition||this.props.position)},this.props.children)}}]),t}(a.Component),N=function(e){var t=e.children,n=e.className,a=Object(f.a)(e,["children","className"]);return r.a.createElement("div",Object.assign({className:m()("undraggable",n)},a),t)};N.defaultProps={className:""};var x=N;function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var z=r.a.memo((function(e){var t=e.position,n=e.title,o=e.items,i=e.timeStamp,u=e.onChange,f=e.onRemove,p=!o.length,d=Object(a.useState)(p),g=Object(s.a)(d,2),O=g[0],h=g[1],j=Object(a.useState)(!1),S=Object(s.a)(j,2),w=S[0],P=S[1];function C(e){h(!O)}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:t,title:n,items:o,timeStamp:i},e))}return r.a.createElement("div",{className:m()("item group",{"item--collapse":w}),style:{transform:w?"scale(0.7)":""}},n&&r.a.createElement("span",{className:"item-content"},n),r.a.createElement(x,{className:"item-add item-button",onClick:C},"+"),r.a.createElement(x,{className:"item-remove item-button",onClick:function(){P(!0),setTimeout((function(){f()}),200)}},"\xd7"),(o.length||O)&&r.a.createElement("div",{className:"group-items"},r.a.createElement(x,null,r.a.createElement(E.a,{tag:"ul",onChange:function(e){var t=D({items:e.map((function(e){return o.find((function(t){return t.timeStamp===parseInt(e)}))}))});u(t)}},o.map((function(e){return r.a.createElement(b,{key:e.timeStamp,"data-id":e.timeStamp,title:e.title,onClick:function(){return function(e){var t=D({items:o.filter((function(t){return t.timeStamp!==e.timeStamp}))});u(t),h(!1)}(e)}})}))),O&&r.a.createElement(y,{isGrouped:!0,onCreate:function(e){var t=D({items:[].concat(Object(l.a)(o),[e])});u(t)},onClose:C}))),r.a.createElement(x,{onClick:function(){!function(e){var t=document.createElement("textarea");t.style={position:"absolute",top:"-1000px"},t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(function(e){var t=e.title,n=e.items,a=(void 0===n?[]:n).map((function(e){var t=e.title;return"- ".concat(t)}));return[t].concat(Object(l.a)(a)).join("\n")}({title:n,items:o}))},className:"item-copy"},r.a.createElement("button",null,"copy")))}));function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var R=JSON.parse(localStorage.getItem("dragly-items")||"[]");var J=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(R),u=Object(s.a)(i,2),f=u[0],p=u[1],d=Object(a.useState)(null),g=Object(s.a)(d,2),b=g[0],O=g[1],v=Object(a.useState)(!1),j=Object(s.a)(v,2),E=j[0],S=j[1];function w(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&o([].concat(Object(l.a)(n),[f])),p(e),localStorage.setItem("dragly-items",JSON.stringify(e))}function P(e,t){var n=f.filter((function(e){return e.timeStamp!==t.timeStamp}));w([].concat(Object(l.a)(n),[e])),O(null)}function C(){if(n.length){w(n[n.length-1]||[],!1);var e=Object(l.a)(n);e.pop(),o(e)}}function D(e){return r.a.createElement(k,{position:e.position,onDragEnd:function(t){return P(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{position:t}),e)},key:e.timeStamp},r.a.createElement(z,Object.assign({},e,{onRemove:function(){return function(e){var t=f.filter((function(t){return t.timeStamp!==e.timeStamp}));w(Object(l.a)(t))}(e)},onChange:function(t){return P(t,e)}})))}Object(a.useEffect)((function(){document.addEventListener("keydown",(function(e){90===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),C())}))}));var N=f.map((function(e){return D(e)}));return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:m()("board",{obfuscated:E},"production"),onClick:function(e){if(e.target===e.currentTarget){var t=new h({x:e.pageX,y:e.pageY});O(t)}}},r.a.createElement("ul",null,N),b&&r.a.createElement(y,{onCreate:function(e){w([].concat(Object(l.a)(f),[e])),O(null)},position:b,onClose:function(){return O(null)}}),r.a.createElement("button",{className:m()("undo action",{visible:n.length}),onClick:C},r.a.createElement("span",{role:"img","aria-label":"Undo"},"\ud83e\udd2d")),r.a.createElement("button",{className:m()("obfuscate action ",{visible:f.length}),onClick:function(){S(!E)}},r.a.createElement("span",{role:"img","aria-label":"Obfuscate"},E?"\ud83d\udc35":"\ud83d\ude48"))))};i.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.cadf5100.chunk.js.map